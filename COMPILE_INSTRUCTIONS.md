# ุชุนูููุงุช ุชุฌููุน ูุชุงุจ "ุฑููู ุงูุฑุนุงูุฉ"

## โ ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ

ุชู ุฅุตูุงุญ ูุดููุฉ ููุงุตู ุงูุตูุญุงุช (page breaks) ุงูุชู ูุงูุช ุชูุตู ุงูุนูุงููู ูุงูุฃุณูุงุก ุงููููุฉ ุนู ูุญุชูุงูุง. ุงูุฅุตูุงุญุงุช ุชุดูู:

### 1. **ุฅุถุงูุฉ ุญุฒูุฉ needspace**
- ุชุถูู ูุฌูุฏ ูุณุงุญุฉ ูุงููุฉ ูุจู ุจุฏุก ุฃู ุนููุงู
- ุชููุน ุธููุฑ ุนููุงู ุจููุฑุฏู ูู ุขุฎุฑ ุณุทุฑ ูู ุงูุตูุญุฉ

### 2. **ุชุนุฒูุฒ penalties ูููุน Widows & Orphans**
```latex
\clubpenalties=3 10000 10000 5000      % ููุน ุงูุฃุณุทุฑ ุงููุนุฒููุฉ ูู ุงูุจุฏุงูุฉ
\widowpenalties=3 10000 10000 5000     % ููุน ุงูุฃุณุทุฑ ุงููุนุฒููุฉ ูู ุงูููุงูุฉ
\displaywidowpenalties=3 10000 10000 5000  % ููุณ ุงูุดูุก ูููุนุงุฏูุงุช
```

### 3. **ุญูุงูุฉ ุงูุนูุงููู ูู page breaks**
- **Section**: ูุญููุฉ ุจู 5 ุฃุณุทุฑ ูุญุฏ ุฃุฏูู ูุจู ูุงุตู ุงูุตูุญุฉ
- **Subsection**: ูุญููุฉ ุจู 4 ุฃุณุทุฑ ูุญุฏ ุฃุฏูู
- ุชุดูู ุงูุนูุงููู ุงููุฑููุฉ (numbered) ูุบูุฑ ุงููุฑููุฉ (starred *)

### 4. **ุญูุงูุฉ ุงูุจููุณุงุช ูุงูุณููุงุฑูููุงุช**
ุฌููุน ุงูุจูุฆุงุช ุงููููุฉ ูุญููุฉ:
- `scenariobox` - ุงูุณููุงุฑูููุงุช
- `specialbox` - ุงูููุงุญุธุงุช ุงูุฎุงุตุฉ
- `warningbox` - ุงูุชุญุฐูุฑุงุช

### 5. **ุฃูุงูุฑ ูุณุงุนุฏุฉ ุฌุฏูุฏุฉ**
```latex
\protectedtitle{ูุต ููู}    % ูุญูู ุงูุนููุงู ูุน ูุง ุจุนุฏู
\keepwithnext{ูุต}           % ูููุน ูุตู ุงููุต ุนูุง ูููู
\startprotected             % ูุจุฏุฃ ูุชูุฉ ูุญููุฉ
\protectblock{ูุญุชูู}        % ูุญูู ูุชูุฉ ูุงููุฉ
```

---

## ๐ง ูุชุทูุจุงุช ุงูุชุฌููุน

ูุชุฌููุน ูุฐุง ุงููุณุชูุฏุ ุชุญุชุงุฌ ุฅูู:

### ุงูุฎูุงุฑ 1: XeLaTeX (ููุตู ุจู)
```bash
xelatex main.tex
xelatex main.tex  # ูุฑุฉ ุซุงููุฉ ููููุฑุณ
```

### ุงูุฎูุงุฑ 2: LuaLaTeX
```bash
lualatex main.tex
lualatex main.tex  # ูุฑุฉ ุซุงููุฉ ููููุฑุณ
```

### ุงูุญุฒู ุงููุทููุจุฉ
ูุฌุจ ุฃู ุชููู ูุฐู ุงูุญุฒู ูุซุจุชุฉ ูู ุชูุฒูุนุฉ LaTeX ุงูุฎุงุตุฉ ุจู:

```
texlive-xetex          # ุงููุญุฑู ุงูุฃุณุงุณู
texlive-lang-arabic    # ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ
texlive-fonts-extra    # ุฎุทูุท ุฅุถุงููุฉ (Amiri font)
texlive-latex-extra    # ุญุฒู ุฅุถุงููุฉ
```

**ุฎุท Amiri**: ูุฌุจ ุฃู ูููู ุฎุท Amiri ูุซุจุชุงู ุนูู ูุธุงูู. ููููู ุชุญูููู ูู:
- https://www.amirifont.org/
- ุฃู ุนุจุฑ ุญุฒูุฉ `fonts-amiri` ูู Ubuntu/Debian

---

## ๐ฆ ุชุซุจูุช ุงููุชุทูุจุงุช

### ุนูู Ubuntu/Debian:
```bash
sudo apt-get update
sudo apt-get install texlive-xetex texlive-lang-arabic texlive-fonts-extra fonts-amiri
```

### ุนูู macOS (ุจุงุณุชุฎุฏุงู MacTeX):
```bash
# ุซุจุช MacTeX ูู: https://www.tug.org/mactex/
# ุฃู ุจุงุณุชุฎุฏุงู Homebrew:
brew install --cask mactex
```

### ุนูู Windows (ุจุงุณุชุฎุฏุงู MiKTeX):
1. ูุฒูู ูุซุจุช MiKTeX ูู: https://miktex.org/download
2. ุงูุชุญ MiKTeX Console
3. ุซุจุช ุงูุญุฒู ุงููุทููุจุฉ ูู Package Manager

---

## ๐ ุฎุทูุงุช ุงูุชุฌููุน

### ุงูุทุฑููุฉ ุงูุฃุณุงุณูุฉ:
```bash
cd /path/to/Boklat
xelatex main.tex
xelatex main.tex  # ูุฑุฉ ุซุงููุฉ ูุชุญุฏูุซ ุฌุฏูู ุงููุญุชููุงุช ูุงูููุงุฑุณ
```

### ููุญุตูู ุนูู ุฃูุถู ูุชูุฌุฉ:
```bash
xelatex -interaction=nonstopmode main.tex
bibtex main  # ุฅุฐุง ูุงู ููุงู ูุฑุงุฌุน
xelatex -interaction=nonstopmode main.tex
xelatex -interaction=nonstopmode main.tex
```

### ุจุงุณุชุฎุฏุงู latexmk (ุงูุฃุณูู):
```bash
latexmk -xelatex -interaction=nonstopmode main.tex
```

---

## ๐ ุงุณุชุฎุฏุงู Overleaf (ุนุจุฑ ุงูุฅูุชุฑูุช)

ุฅุฐุง ููุช ุชูุถู ุนุฏู ุชุซุจูุช LaTeX ูุญููุงู:

1. ุงุฐูุจ ุฅูู: https://www.overleaf.com
2. ุฃูุดุฆ ูุดุฑูุน ุฌุฏูุฏ (New Project > Upload Project)
3. ุงุฑูุน ุฌููุน ูููุงุช ุงููุดุฑูุน
4. ูู ุฅุนุฏุงุฏุงุช ุงููุดุฑูุน (Settings):
   - **Compiler**: ุงุฎุชุฑ `XeLaTeX` ุฃู `LuaLaTeX`
   - **TeX Live version**: ุงุฎุชุฑ ุฃุญุฏุซ ุฅุตุฏุงุฑ
5. ุงุถุบุท ุนูู **Recompile** ููุญุตูู ุนูู PDF

---

## ๐ฏ ุงูุชุญูู ูู ูุฌุงุญ ุงูุชุฌููุน

ุจุนุฏ ุงูุชุฌููุนุ ุชุญูู ูู:

### โ ุนูุงูุงุช ุงููุฌุงุญ:
- ููู `main.pdf` ููุฌูุฏ
- ูุง ุชูุฌุฏ ุฃุฎุทุงุก (Errors) ูู ุณุฌู ุงูุชุฌููุน
- ุงูุนูุงููู ูุง ุชุธูุฑ ุจููุฑุฏูุง ูู ุขุฎุฑ ุงูุตูุญุฉ
- ุงูุณููุงุฑูููุงุช ูุงูุจููุณุงุช ุบูุฑ ููุตููุฉ

### โ๏ธ ุงูุชุญุฐูุฑุงุช ุงููุชููุนุฉ (ูููู ุชุฌุงูููุง):
```
Overfull \hbox     # ุงูุชูุงุก ุงูุณุทูุฑ - ุทุจูุนู ูู ุงููุตูุต ุงูุนุฑุจูุฉ
Underfull \hbox    # ูุฑุงุบุงุช ูู ุงูุณุทูุฑ - ุทุจูุนู
```

### โ ุฃุฎุทุงุก ุดุงุฆุนุฉ ูุญููููุง:

**ุฎุทุฃ: `! LaTeX Error: File 'needspace.sty' not found`**
```bash
# ุงูุญู: ุซุจุช texlive-latex-extra
sudo apt-get install texlive-latex-extra
```

**ุฎุทุฃ: `! Font Amiri not found`**
```bash
# ุงูุญู: ุซุจุช ุฎุท Amiri
sudo apt-get install fonts-amiri
# ุฃู ูุฒููู ูุฏููุงู ูู https://www.amirifont.org/
```

**ุฎุทุฃ: `! LaTeX Error: File 'babel.sty' not found`**
```bash
# ุงูุญู: ุซุจุช texlive-latex-base
sudo apt-get install texlive-latex-base
```

---

## ๐ ุจููุฉ ุงููุดุฑูุน

```
Boklat/
โโโ main.tex                 # ุงูููู ุงูุฑุฆูุณู
โโโ preamble.tex            # ุฅุนุฏุงุฏุงุช ุงูุชูุณูู (ุชู ุฅุตูุงุญู โ)
โโโ frontmatter/            # ุงูููุฏูุงุช
โ   โโโ titlepage.tex
โ   โโโ copyright.tex
โ   โโโ dedication.tex
โ   โโโ about-author.tex
โ   โโโ reviewers.tex
โ   โโโ introduction.tex
โโโ chapters/               # ุงููุตูู
โ   โโโ ch01.tex
โ   โโโ ch02.tex
โ   โโโ ...
โ   โโโ ch14.tex
โ   โโโ conclusion.tex
โ   โโโ glossary.tex
โโโ chapters_backup/        # ูุณุฎุฉ ุงุญุชูุงุทูุฉ
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ูุดู ุงูุชุฌููุน:

1. **ุชุญูู ูู ุณุฌู ุงูุฃุฎุทุงุก**:
   ```bash
   cat main.log | grep "Error"
   ```

2. **ุชุญูู ูู ุงูุญุฒู ุงูููููุฏุฉ**:
   ```bash
   cat main.log | grep "not found"
   ```

3. **ุฌุฑูุจ ุงูุชุฌููุน ุงูุชูุงุนูู**:
   ```bash
   xelatex main.tex
   # ุงูุฑุฃ ุฑุณุงุฆู ุงูุฎุทุฃ ูุชุนุงูู ูุนูุง ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู
   ```

4. **ูุธู ุงููููุงุช ุงููุคูุชุฉ ูุฃุนุฏ ุงูุชุฌููุน**:
   ```bash
   rm -f *.aux *.log *.toc *.out *.bbl *.blg
   xelatex main.tex
   ```

---

## ๐ก ูุตุงุฆุญ ููุญุตูู ุนูู ุฃูุถู ูุชูุฌุฉ

1. **ุฏุงุฆูุงู ุฌููุน ูุฑุชูู ุนูู ุงูุฃูู** ูุชุญุฏูุซ ุฌุฏูู ุงููุญุชููุงุช ูุงูููุงุฑุณ
2. **ุงุณุชุฎุฏู `-interaction=nonstopmode`** ูุนุฏู ุงูุชููู ุนูุฏ ุงูุชุญุฐูุฑุงุช
3. **ุชุญูู ูู main.log** ููุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ูุดุงูู
4. **ุฅุฐุง ูุงู ุงูููู ูุจูุฑุงู**ุ ุงุณุชุฎุฏู `latexmk` ูุฅุฏุงุฑุฉ ุงูุชุฌููุน ุชููุงุฆูุงู
5. **ููุชุตุฏูุฑ ูููุดุฑ**ุ ุงุณุชุฎุฏู PDF/A format

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุชุญูู ูู ุฃู ุฌููุน ุงูุญุฒู ูุซุจุชุฉ ุจุดูู ุตุญูุญ
2. ุชุฃูุฏ ูู ุฃูู ุชุณุชุฎุฏู XeLaTeX ุฃู LuaLaTeX (ูููุณ pdfLaTeX)
3. ุฑุงุฌุน ููู `main.log` ููุนุฑูุฉ ุงูุณุจุจ ุงูุฏููู ููุฎุทุฃ
4. ุชุฃูุฏ ูู ุฃู ุฎุท Amiri ูุซุจุช ุนูู ูุธุงูู

---

## โจ ุงูุชุบููุฑุงุช ุงูุฃุฎูุฑุฉ

**ุขุฎุฑ ุชุญุฏูุซ**: 2025-12-18

**ุงูุชุญุณููุงุช**:
- โ ุฅุตูุงุญ ูุดููุฉ page breaks ุจุนุฏ ุงูุนูุงููู
- โ ุญูุงูุฉ ุงูุณููุงุฑูููุงุช ูู ุงููุตู
- โ ุฅุถุงูุฉ ุฃูุงูุฑ ุญูุงูุฉ ุฌุฏูุฏุฉ
- โ ุชุญุณูู penalties ูู widows & orphans
- โ ุฏุนู ุฃูุถู ููุนูุงููู ุงููุฑููุฉ ูุบูุฑ ุงููุฑููุฉ

---

**ููุงุญุธุฉ**: ุฌููุน ุงูุชุบููุฑุงุช ูุญููุธุฉ ูู branch `claude/fix-page-break-headers-fctZQ`
